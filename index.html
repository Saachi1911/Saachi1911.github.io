<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>For My Moon üåô</title>
<style>
  /* ---------- base ---------- */
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%;background:#03102a;overflow:hidden}
  body{font-family:"Poppins",system-ui,-apple-system,"Segoe UI",Roboto,Arial;color:#fff}

  /* ---------- stage (full-bleed landscape) ---------- */
  .stage{
    position:fixed;inset:0;
    display:flex;align-items:flex-start;justify-content:center;
    background: radial-gradient(circle at 50% 35%, #03102a 0%, #000010 75%);
  }

  /* optional background moon image (very subtle) */
  .moon-bg{position:fixed;inset:0;background-image:url('moon.jpg');background-size:cover;background-position:center top;opacity:0.06;filter:blur(6px) brightness(.88);z-index:0;pointer-events:none}

  /* center-top realistic moon (glow + fixed) */
  /* --- Realistic Glowing Moon Animation --- */
.moon {
  position: absolute;
  top: 40px;
  left: 50%;
  transform: translateX(-50%);
  width: 180px;
  height: 180px;
  background: radial-gradient(circle at 30% 30%, #fff 70%, #dcdcdc 90%, #aaa 100%);
  border-radius: 50%;
  box-shadow: 0 0 60px 20px rgba(255, 255, 255, 0.4);
  animation: moonGlow 6s ease-in-out infinite;
}

@keyframes moonGlow {
  0%, 100% {
    box-shadow: 0 0 50px 15px rgba(255, 255, 255, 0.4);
    filter: brightness(1);
  }
  50% {
    box-shadow: 0 0 80px 25px rgba(255, 255, 255, 0.8);
    filter: brightness(1.15);
  }
}

  
  
  /* moon gentle pulse glow */
  @keyframes moonGlow { from { filter: blur(3px) brightness(0.98) } to { filter: blur(4px) brightness(1.06) } }
  .moon { animation: moonGlow 6s ease-in-out infinite alternate; }

  /* top caption under moon */
  .topCaption{position:absolute;top:28%;left:50%;transform:translateX(-50%);z-index:4;color:#e7f2ff;opacity:0.95;font-size:16px;letter-spacing:0.2px}

  /* ---------- starfield & shooting stars ---------- */
  .stars{position:fixed;inset:0;z-index:1;pointer-events:none}
  .star{position:absolute;background:#fff;border-radius:50%;opacity:0.9;filter:blur(.3px)}
  .star.small{opacity:.6}
  .shooting{position:fixed;inset:0;z-index:2;pointer-events:none}
  .shootingStar{position:absolute;height:3px;border-radius:3px;background:linear-gradient(90deg,rgba(255,255,255,1),rgba(255,255,255,0));filter:blur(.8px);opacity:0.95}

  /* ---------- floating emojis ---------- */
  .sprites{position:fixed;inset:0;z-index:6;pointer-events:none}
  .sprite{position:absolute;font-size:22px;opacity:0.9;animation:floatUp linear infinite}
  @keyframes floatUp{0%{transform:translateY(0) scale(.96);opacity:1}100%{transform:translateY(-720px) scale(1.03);opacity:0}}

  /* ---------- intro overlay (typing title + heart) ---------- */
  .intro{position:fixed;inset:0;z-index:8;display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center;padding:22px;background:linear-gradient(180deg, rgba(0,0,0,0.22), rgba(0,0,0,0.34));backdrop-filter:blur(4px)}
  .intro h1{font-size:54px;font-weight:700;line-height:1.02;margin-bottom:12px;letter-spacing:0.4px;max-width:92%;word-break:break-word}
  .intro p{font-size:18px;color:#dfeeff;margin-bottom:22px}
  .heartBtn{width:120px;height:120px;border-radius:999px;display:flex;align-items:center;justify-content:center;font-size:46px;background:radial-gradient(circle,#ffbcd6,#ff98c9);color:#25050a;border:0;cursor:pointer;box-shadow:0 18px 60px rgba(255,140,170,0.12);opacity:0;transform:scale(.88);transition:opacity .55s ease, transform .25s cubic-bezier(.2,.9,.3,1)}
  .heartBtn.show{opacity:1;transform:scale(1)}
  /* heart subtle glow/bounce */
  @keyframes heartPulse { 0%{transform:scale(0.98)}50%{transform:scale(1.06)}100%{transform:scale(0.98)} }
  .heartBtn.breathe{animation:heartPulse 1400ms ease-in-out infinite}

  /* ---------- main slideshow (landscape-first) ---------- */
  .main{position:fixed;inset:0;z-index:5;display:flex;align-items:center;justify-content:center;pointer-events:none}
  .frame{width:100%;height:72vh;max-width:1400px;margin-top:9vh;position:relative;overflow:visible;pointer-events:none}
  .slide{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity 1.1s ease}
  .slide.show{opacity:1}
  .slide img{max-width:92%;max-height:82vh;border-radius:14px;object-fit:contain;background:#000;box-shadow:0 36px 100px rgba(0,0,0,0.6);transform-origin:center center}

  /* ken-burns zoom (applies when .zoom class is toggled) */
  .zoomIn { animation: kenburns 5000ms ease-in-out forwards; }
  @keyframes kenburns { from { transform: scale(1) } to { transform: scale(1.06) } }

  /* ---------- message box (fade-in) ---------- */
  .msgbox{position:absolute;left:50%;transform:translateX(-50%);bottom:6%;z-index:7;min-width:60%;max-width:88%;background:rgba(1,6,18,0.52);padding:14px 18px;border-radius:12px;backdrop-filter:blur(6px);text-align:center;font-size:20px;color:#f8fbff;opacity:0;transition:opacity .8s ease, transform .8s ease}
  .msgbox.show{opacity:1;transform:translateX(-50%) translateY(-6px)}

  /* ---------- final note ---------- */
  .endNote{position:fixed;inset:0;z-index:9;display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center;padding:30px;background:linear-gradient(180deg, rgba(0,0,0,0.22), rgba(0,0,0,0.5));opacity:0;pointer-events:none;transition:opacity 1s ease}
  .endNote.show{opacity:1;pointer-events:auto}
  .endNote h2{font-size:34px;margin-bottom:12px}
  .endNote p{font-size:20px;color:#eaf0ff;line-height:1.6;max-width:820px}

  /* responsive adjustments for phones */
  @media (max-width:900px){
    .intro h1{font-size:32px}
    .heartBtn{width:92px;height:92px;font-size:36px}
    .slide img{max-width:96%}
    .msgbox{font-size:16px;bottom:4%}
    .moon{width:240px;height:240px}
    .topCaption{top:22%;font-size:14px}
  }
</style>
</head>
<body>
  <div class="stage" id="stage">
    <div class="moon-bg" aria-hidden="true"></div>

    <div class="moon-wrap" aria-hidden="true"><div class="moon"></div></div>
    <div class="topCaption">To my Moon üåô ‚Äî from your Mr Bean üíå</div>

    <div class="stars" id="stars"></div>
    <div class="shooting" id="shooting"></div>
    <div class="sprites" id="sprites"></div>

    <!-- Intro overlay -->
    <div class="intro" id="intro">
      <h1 id="introTitle"></h1>
      <p id="introSub">My cutest moon, my forever bacha</p>
      <button class="heartBtn" id="heartBtn" aria-label="Start gift">üíû</button>
      <small style="color:#cfe8ff;margin-top:12px">Open quietly at 12:00 AM ‚ú®</small>
    </div>

    <!-- Main slideshow -->
    <div class="main" id="main" aria-hidden="true">
      <div class="frame" id="frame">
        <div class="slide" id="slide1"><img src="IMG-20251110-WA0047.jpg" alt="photo1"></div>
        <div class="slide" id="slide2"><img src="IMG-20251110-WA0048.jpg" alt="photo2"></div>
        <div class="slide" id="slide3"><img src="IMG-20251110-WA0049.jpg" alt="photo3"></div>
        <div class="slide" id="slide4"><img src="IMG-20251110-WA0050.jpg" alt="photo4"></div>
        <div class="slide" id="slide5"><img src="IMG-20251110-WA0051.jpg" alt="photo5"></div>
      </div>
      <div class="msgbox" id="msgbox" role="status" aria-live="polite"></div>
    </div>

    <!-- End note -->
    <div class="endNote" id="endNote">
      <h2>This is only for you, Saachi!! ‚ù§Ô∏èüíïü•∞üåô</h2>
      <p id="finalNote">You are my peace, my warmth, my favourite person. You‚Äôll always be my Himawari ‚Äî the one who made my world brighter. <br><br> ‚Äî Mr Bean üí´</p>
    </div>

    <!-- background music (local placeholder) -->
    <audio id="bgAudio" loop preload="auto">
      <source src="music.mp3" type="audio/mpeg">
      <!-- Replace with your own mp3 if you prefer a hosted one -->
    </audio>
  </div>

<script>
/* ---------------- STARFIELD ---------------- */
const starsEl = document.getElementById('stars');
for(let i=0;i<140;i++){
  const s = document.createElement('div');
  s.className = 'star' + (Math.random()>0.78 ? ' small' : '');
  const size = (Math.random()*1.6 + 0.6);
  s.style.width = s.style.height = size + 'px';
  s.style.left = Math.random()*100 + '%';
  s.style.top  = Math.random()*100 + '%';
  s.style.opacity = (0.25 + Math.random()*0.9).toFixed(2);
  s.style.filter = `blur(${Math.random()*0.6}px)`;
  s.style.transition = `opacity ${2+Math.random()*3}s ease-in-out`;
  starsEl.appendChild(s);
}
/* twinkle loop */
setInterval(()=> {
  const nodes = starsEl.children;
  for(let i=0;i<nodes.length;i++){
    nodes[i].style.opacity = (0.3 + Math.random()*0.9).toFixed(2);
  }
}, 1800);

/* ---------------- GLOWING SHOOTING STARS (from random directions) ---------------- */
const shootingWrap = document.getElementById('shooting');

function createShooting() {
  const el = document.createElement('div');
  el.className = 'shootingStar';

  // Random start anywhere on screen
  el.style.top = Math.random() * window.innerHeight + 'px';
  el.style.left = Math.random() * window.innerWidth + 'px';
  el.style.width = (100 + Math.random() * 300) + 'px';

  // Random rotation
  const angle = Math.random() * 90 - 45;
  el.style.transform = `rotate(${angle}deg)`;

  shootingWrap.appendChild(el);

  // Random direction
  const dx = (Math.random() - 0.5) * 1600;
  const dy = (Math.random() - 0.5) * 800;

  // Animate trail + fade
  el.animate([
    { transform: `translate(0,0) rotate(${angle}deg)`, opacity: 1 },
    { transform: `translate(${dx}px, ${dy}px) rotate(${angle}deg)`, opacity: 0 }
  ], {
    duration: 2800 + Math.random() * 800,
    easing: 'ease-out'
  });

  // Remove star after fade
  setTimeout(() => el.remove(), 3500);

  // Spawn new star (every 6‚Äì9 sec for cinematic effect)
  setTimeout(createShooting, 6000 + Math.random() * 3000);
}

setTimeout(createShooting, 2000);



/* ---------------- FLOATING EMOJIS ---------------- */
const sprites = document.getElementById('sprites');
const icons = ['‚ô•Ô∏è','ü•∞','üíñ','ü©∑','ü´Ç'];
for(let i=0;i<16;i++){
  const sp = document.createElement('div');
  sp.className = 'sprite';
  sp.style.left = (5 + Math.random()*88) + '%';
  sp.style.bottom = (-40 - Math.random()*220) + 'px';
  sp.style.fontSize = (14 + Math.random()*36) + 'px';
  sp.style.animationDuration = (16 + Math.random()*32) + 's';
  sp.style.animationDelay = (Math.random()*8) + 's';
  sp.textContent = icons[Math.floor(Math.random()*icons.length)];
  sprites.appendChild(sp);
}

/* ---------------- INTRO TYPING (title) ---------------- */
const introTitleText = "Happy Birthday My Moon‚Ä¶ My Himawari ‚ù§Ô∏èüíïü•∞";
const introTitle = document.getElementById('introTitle');
const heartBtn = document.getElementById('heartBtn');
let ti=0;
function typeIntro(){
  if(ti < introTitleText.length){
    introTitle.textContent += introTitleText.charAt(ti++);
    setTimeout(typeIntro, 80);
  } else {
    // show heart with breathe animation
    setTimeout(()=> { heartBtn.classList.add('show'); heartBtn.classList.add('breathe'); }, 100);
  }
}
typeIntro();

/* ---------------- HEART CLICK (start music & slideshow) ---------------- */
const intro = document.getElementById('intro');
const main  = document.getElementById('main');
const frame = document.getElementById('frame');
const bgAudio = document.getElementById('bgAudio');
const msgbox = document.getElementById('msgbox');
const endNote = document.getElementById('endNote');

heartBtn.addEventListener('click', ()=> {
  // start music (user gesture allows autoplay)
  try { bgAudio.currentTime = 0; bgAudio.volume = 0.95; bgAudio.play(); } catch(e){}
  // heart flash then hide intro
  heartBtn.classList.remove('breathe');
  heartBtn.style.transform = 'scale(1.12)';
  setTimeout(()=> { heartBtn.style.transform = ''; }, 300);
  intro.style.transition = 'opacity .7s ease';
  intro.style.opacity = 0;
  setTimeout(()=> { intro.style.display='none'; startSlideshow(); }, 700);
});

/* ---------------- SLIDESHOW (auto, 5s each + zoom) ---------------- */
const slides = Array.from(document.querySelectorAll('.slide'));
const messages = [
  "Hey Bacha ‚Äî this one‚Äôs for you üåô",
  "You‚Äôre my calm, even when the world is loud ü•π",
  "My Himawari ‚Äî your smile feels like sunlight after rain ü•∞üòä",
  "You never ask for much, but you give everything softly üíï",
  "You‚Äôll always be my favourite person, my peace üíñ"
];
let cur = 0;
const showDuration = 5000; // 5 seconds per slide

function startSlideshow(){
  document.getElementById('main').style.pointerEvents='none';
  showSlide(0);
}

function showSlide(i){
  slides.forEach((s, idx)=> {
    s.classList.toggle('show', idx===i);
    // remove zoom class from all images
    const img = s.querySelector('img');
    if(img) img.classList.remove('zoomIn');
  });

  // add zoom to current image (restart animation)
  const currentImg = slides[i].querySelector('img');
  if(currentImg){
    // force reflow to restart animation
    void currentImg.offsetWidth;
    currentImg.classList.add('zoomIn');
  }

  // show message (fade-in)
  msgbox.classList.remove('show');
  setTimeout(()=> {
    msgbox.textContent = messages[i] || '';
    msgbox.classList.add('show');
  }, 220);

  // schedule next
  setTimeout(()=> {
    if(i < slides.length - 1) showSlide(i+1);
    else {
      setTimeout(()=> {
        msgbox.classList.remove('show');
        endNote.classList.add('show');
        // gentle music fade
        const fade = setInterval(()=> { if(bgAudio.volume > 0.12) bgAudio.volume = Math.max(0.12, bgAudio.volume - 0.04); else clearInterval(fade); }, 300);
      }, 1000);
    }
  }, showDuration);
}

/* ---------------- MOBILE FIT TWEAK ---------------- */
function mobileScale(){
  if(window.innerWidth < 700){
    document.documentElement.style.fontSize = '14px';
    const moon = document.querySelector('.moon');
    if(moon){ moon.style.width = '240px'; moon.style.height = '240px'; }
  } else {
    document.documentElement.style.fontSize = '';
    const moon = document.querySelector('.moon');
    if(moon){ moon.style.width = '360px'; moon.style.height = '360px'; }
  }
}
mobileScale();
window.addEventListener('resize', mobileScale);

/* ---------------- ALLOW AUDIO ON FIRST TOUCH (fallback) ---------------- */
document.body.addEventListener('click', ()=> { bgAudio.play().catch(()=>{}); }, {once:true});
document.body.addEventListener('touchstart', ()=> { bgAudio.play().catch(()=>{}); }, {once:true});
</script>
</body>
</html>
